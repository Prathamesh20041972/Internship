CREATE DATABASE hospital_db;

USE hospital_db;
CREATE TABLE Department (
    department_id INT PRIMARY KEY AUTO_INCREMENT,
    department_name VARCHAR(100) NOT NULL UNIQUE
);
CREATE TABLE Doctor (
    doctor_id INT PRIMARY KEY AUTO_INCREMENT,
    doctor_name VARCHAR(100) NOT NULL,
    specialization VARCHAR(100),
    department_id INT,
    patient_id INT,
    FOREIGN KEY (department_id)
    REFERENCES Department(department_id),FOREIGN KEY (patient_id) references patient(patient_id)
);
CREATE TABLE Patient (
    patient_id INT PRIMARY KEY AUTO_INCREMENT,
    patient_name VARCHAR(100) NOT NULL,
    age INT,
    gender VARCHAR(10),
    phone VARCHAR(15)
);
CREATE TABLE Appointment (
    appointment_id INT PRIMARY KEY AUTO_INCREMENT,
    patient_id INT,
    doctor_id INT,
    appointment_date DATE,
    appointment_time TIME,
    status VARCHAR(50),

    FOREIGN KEY (patient_id)
    REFERENCES Patient(patient_id),

    FOREIGN KEY (doctor_id)
    REFERENCES Doctor(doctor_id)
);
INSERT INTO Department (department_name)
VALUES 
('Cardiology'),
('Neurology'),
('Orthopedics');
INSERT INTO Doctor (doctor_name, specialization, department_id)
VALUES
('Dr. Sharma', 'Heart Specialist', 1),
('Dr. Kumar', 'Brain Specialist', 2),
('Dr. Reddy', 'Bone Specialist', 3);
INSERT INTO Patient (patient_name, age, gender, phone)
VALUES
('Ravi', 25, 'Male', '9876543210'),
('Priya', 30, 'Female', '9123456780'),
('Amit', 40, 'Male', '9988776655');
INSERT INTO Appointment (patient_id, doctor_id, appointment_date, appointment_time, status)
VALUES
(1, 1, '2026-03-01', '10:00:00', 'Scheduled'),
(2, 1, '2026-03-02', '11:00:00', 'Scheduled'),
(3, 2, '2026-03-03', '09:30:00', 'Scheduled');
SELECT 
    a.appointment_id,
    p.patient_name,
    d.doctor_name,
    a.appointment_date,
    a.appointment_time,
    a.status
FROM Appointment a
JOIN Patient p ON a.patient_id = p.patient_id
JOIN Doctor d ON a.doctor_id = d.doctor_id
WHERE d.doctor_name = 'Dr. Sharma';
SELECT 
    dep.department_name,
    COUNT(DISTINCT a.patient_id) AS total_patients
FROM Appointment a
JOIN Doctor d ON a.doctor_id = d.doctor_id
JOIN Department dep ON d.department_id = dep.department_id
GROUP BY dep.department_name;
SELECT 
    a.appointment_id,
    p.patient_name,
    d.doctor_name,
    a.appointment_date,
    a.appointment_time
FROM Appointment a
JOIN Patient p ON a.patient_id = p.patient_id
JOIN Doctor d ON a.doctor_id = d.doctor_id
WHERE a.appointment_date >= CURDATE()
ORDER BY a.appointment_date, a.appointment_time;
SELECT * FROM Department;
SELECT * FROM Doctor;
SELECT * FROM Patient;
SELECT * FROM Appointment;